<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Servlet, 个人博客，秦同学">
    <meta name="description" content="记录生活，秦同学">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="google-site-verification" content="YsNIhmtAieKemmjl6UAClXRrtBP397J1JuGfJXP-I-0" />
	<meta name="baidu-site-verification" content="code-6jg8O9mf80" />
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>


    <title>Servlet | 白月光 | 秦同学</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/css/my.css">

    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">白月光 | 秦同学</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">白月光 | 秦同学</div>
        <div class="logo-desc">
            
            记录生活，秦同学
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/19.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Servlet</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/JSP/">
                                <span class="chip bg-color">JSP</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Servlet/" class="post-category">
                                Servlet
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-12-28
                </div>
				<div class="info-break-policy">
					 
						<i class="fa fa-pencil"></i> 作者: 秦同学 
							 
				</div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    2.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    11 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>Servlet（Server Applet），全称Java Servlet，未有中文译文。是用 Java 编写的服务器端程序。其主要功能在于交互式地浏览和修改数据，生成动态 Web 内容。狭义的 Servlet 是指 Java 语言实现的一个接口，广义的 Servlet 是指任何实现了这个 Servlet 接口的类，一般情况下，人们将Servlet 理解为后者</p>
<p>Servlet运行于支持Java的应用服务器中。从实现上讲，Servlet 可以响应任何类型的请求，但绝大多数情况下 Servlet 只用来扩展基于HTTP协议的Web服务器。</p>
<blockquote>
<p>简单理解：</p>
<p>Servlet 是 Java Web 服务端的一个小程序，主要用户数据的交互，Web 数据展示和数据传递，这里的  Servlet 是一个动态资源。</p>
<p>Servlet 程序可以应对所有类型的请求和响应，Servlet 主要还是用于HTTP 协议的WEB服务器程序实现。</p>
</blockquote>
<h3 id="工作模式【重点】"><a href="#工作模式【重点】" class="headerlink" title="工作模式【重点】"></a>工作模式【重点】</h3><blockquote>
<ol>
<li>浏览器端发送请求至服务器</li>
<li>服务器启动并调用Servlet，Servlet根据客户端请求生成响应内容并将其传给服务器</li>
<li>服务器将响应返回客户端</li>
</ol>
</blockquote>
<h3 id="tomcat-和-servlet-的关系【了解】"><a href="#tomcat-和-servlet-的关系【了解】" class="headerlink" title="tomcat 和 servlet 的关系【了解】"></a>tomcat 和 servlet 的关系【了解】</h3><p>Tomcat 是 Web 应用服务器，是一个 Servlet/JSP 容器。Tomcat 作为 Servlet 容器，负责处理客户请求，把请求传送给 Servlet，并将 Servlet 的响应传送回给客户。而Servlet是一种运行在支持 Java 语言的服务器上的组件。Servlet 最常见的用途是扩展 Java Web 服务器功能,提供非常安全的,可移植的,易于使用的 CGI 替代品。</p>
<blockquote>
<p>1、Tomcat将http请求文本接收并解析，然后封装成HttpServletRequest类型的request对象，所有的HTTP头数据读可以通过request对象调用对应的方法查询到。</p>
<p>2、Tomcat同时会要响应的信息封装为HttpServletResponse类型的response对象，通过设置response属性就可以控制要输出到浏览器的内容，然后将response交给tomcat，tomcat就会将其变成响应文本的格式发送给浏览器</p>
</blockquote>
<p>Java Servlet API  是 Servlet容器 (tomcat) 和 servlet 之间的接口，它定义了 serlvet 的各种方法，还定义了 Servlet 容器传送给 Servlet 的对象类，其中最重要的就是 ServletRequest 和 ServletResponse。所以说我们在编写servlet 时，需要实现 Servlet 接口，按照其规范进行操作。</p>
<h3 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h3><p>步骤</p>
<pre><code>1、创建类并继承自HttpServlet
2、重写doGet和doPost方法（两个方法实际是一个）
3、声明@WebServlet并加上默认属性(访问路径)
</code></pre><p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * @description 第一个Servlet程序
 *
 * @WebServlet 注解的意思是声明程序的入口，注解中的属性为请求的路径
 * 【注意】属性前必须要加 / !!!
 */
@WebServlet("/HelloServlet")
public class HelloServlet extends HttpServlet {
    /**
     * 处理Post请求
     *
     * @param req HttpServletRequest对象：浏览器请求数据内容对象
     * @param resp HttpServletResponse对象：浏览器响应数据内容对象
     * @throws ServletException Servlet异常
     * @throws IOException IO异常
     */
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        System.out.println("doPost被执行");
        resp.getWriter().append("Hello Servlet");
    }

    /**
     * 处理Get请求
     *
     * @param req HttpServletRequest对象：浏览器请求数据内容对象
     * @param resp HttpServletResponse对象：浏览器响应数据内容对象
     * @throws ServletException Servlet异常
     * @throws IOException IO异常
     */
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        System.out.println("doGet被执行");

        // 实际调用的仍然是doget方法
        doPost(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>html页面</p>
<pre class="line-numbers language-lang-shell"><code class="language-lang-shell"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>测试Servlet</title>
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <form action="HelloServlet" method="get">
        <input type="submit" value="get请求">
    </form>

    <form action="HelloServlet" method="post">
        <input type="submit" value="post请求">
    </form>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>【注意】</p>
<ol>
<li>Servlet代码中的@WebServlet注解中的属性值前必须要加 /</li>
<li>HTML页面中跳转页面不要加 / </li>
</ol>
</blockquote>
<h3 id="servlet-核心接口和类"><a href="#servlet-核心接口和类" class="headerlink" title="servlet 核心接口和类"></a>servlet 核心接口和类</h3><pre class="line-numbers language-lang-java"><code class="language-lang-java">// 两个相关核心包
javax.servlet
javax.servlet.http

// 顶级父类接口，定义了生命周期方法以及获取配置的方法
public interface Servlet;

// 初始化当前Servlet程序，这里需要的参数是ServletConfig，ServletConfig是当前Servlet的配置，该配置可以从注解方式或者从当前项目中的web.xml加载获取
public void init(ServletConfig config) throws ServletException;

// 获取ServletConfig对象，当前对象中保存有Servlet配置内容
public ServletConfig getServletConfig();

// 【核心方法】Servlet提供服务的方法，浏览器访问当前Servlet程序，service方法是起作用，真实调用的还是doget和doPost
// ServletRequest对应的是请求对象
// ServletResponse 对应的是响应对象
public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException;

// 获取当时Servlet程序信息对应字符串，几乎不用，数据都保存在数据库中
public String getServletInfo();

// 销毁当前Servlet程序，可以由Tomcat服务器执行，也可也通过servlet程序自己调用        
public void destroy();

// 对 Servlet 的扩展，完成了一些不太关心的方法，对我们来说只需重写 service 方法即可    
public abstract class GenericServlet;

// 根据初始化参数名字获取对应的值，而且参数值为String
public String getInitParameter(String name);

// 获取ServletContext对象，一个Servlet Application有且只有一个ServletContext对应，这是Servlet上下文对象，对应整个Servlet项目，此方法同时实现了Servlet接口中的 init 初始化方法
public ServletContext getServletContext();

// 符合HTTP协议的Servlet，继承自GenericServlet，最常用，需要重写 doGet 和 doPost 方法    
public abstract class HttpServlet;

// 符合HTTP GET请求的处理方式
protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException

// 符合HTTP POST请求的处理方式     
protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException

// 用于 Servlet 之间的通信
public interface ServletContext;

// 扩展ServletRequest接口，为HTTP servlet提供请求信息。servlet容器创建一个HttpServletRequest对象，并将其作为参数传递给servlet的服务方法(doGet、doPost)。
public interface HttpServletRequest;

// 扩展ServletResponse接口以在发送响应时提供特定于http的功能。servlet容器创建一个HttpServletResponse对象，并将其作为参数传递给servlet的服务方法(doGet、doPost等)。
public interface HttpServletResponse;

// 提供一种技术来识别跨多个页面请求或访问Web站点的用户，并存储有关该用户的信息，用于会话技术
public interface HttpSession;

// 创建一个cookie, servlet发送给Web浏览器的少量信息，由浏览器保存，然后发送回服务器。cookie的值可以唯一地标识客户端，因此cookie通常用于会话管理。
public class Cookie;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>【重点】HttpServlet 中的 doGet 和 doPost 方法</p>
</blockquote>
<h3 id="三种创建-Servlet-的方式"><a href="#三种创建-Servlet-的方式" class="headerlink" title="三种创建 Servlet 的方式"></a>三种创建 Servlet 的方式</h3><blockquote>
<p>【注意】不管是哪种方式都一定要加上@WebServlet注解！！！</p>
</blockquote>
<h4 id="实现-servlet-接口【鸡肋】"><a href="#实现-servlet-接口【鸡肋】" class="headerlink" title="实现 servlet 接口【鸡肋】"></a>实现 servlet 接口【鸡肋】</h4><pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 实现Servlet接口
 * 代码中存在太多和业务逻辑无关的代码，增加了程序员的压力！！！
 * 不要这么写！！！
 */
@WebServlet("/ServletImpl")
public class ServletImpl implements Servlet {

    /**
     * 构造方法
     */
    public ServletImpl() {
        System.out.println("constructor method be called");
    }

    /**
     * 初始化方法
     *
     * @param servletConfig 需要使用ServletConfig类对象，也就是Servlet配置来完成初始化操作
     * @throws ServletException Servlet异常
     */
    @Override
    public void init(ServletConfig servletConfig) throws ServletException {
        System.out.println("init method be called");
    }

    /**
     * 获取Servlet配置对象
     *
     * @return 获取ServletConfig对象
     */
    @Override
    public ServletConfig getServletConfig() {
        return null;
    }

    /**
     * 提供服务核心方法，其实就是doGet和doPost
     *
     * @param servletRequest ServletRequest对象
     * @param servletResponse ServletResponse对象
     * @throws ServletException Servlet异常
     * @throws IOException      IO异常
     */
    @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
        System.out.println("service method be called");

        // 设置字符集为UTF-8
        servletResponse.setContentType("text/html; charset=utf-8");

        // 写入内容
        servletResponse.getWriter().append("<font color=red size=30px style=text-align: center>service方法被执行~</font>");
    }

    /**
     * 获取Servlet信息
     * @return Servlet信息
     */
    @Override
    public String getServletInfo() {
        return null;
    }

    /**
     * 销毁的方法
     */
    @Override
    public void destroy() {
        System.out.println("destroy method be called");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>太过繁琐，需要关注的东西太多，pass</p>
</blockquote>
<h4 id="继承-GenericServlet-类【鸡肋】"><a href="#继承-GenericServlet-类【鸡肋】" class="headerlink" title="继承 GenericServlet 类【鸡肋】"></a>继承 GenericServlet 类【鸡肋】</h4><pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 继承自GenericServlet创建Servlet
 */
@WebServlet("/ExtendsGeneric")
public class ExtendsGeneric extends GenericServlet {
    @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
        servletResponse.setContentType("text/html; charset=utf-8");

        servletResponse.getWriter().append("<div style='color: aquamarine'>北纬线的思念被季风吹远</div>");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>相比于实现 Servlet，友好太多，但是还不够友好，因为没有对应Http协议请求的处理方法</p>
</blockquote>
<h4 id="继承-HttpServlet-类【重点】"><a href="#继承-HttpServlet-类【重点】" class="headerlink" title="继承 HttpServlet 类【重点】"></a>继承 HttpServlet 类【重点】</h4><pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 继承自HttpServlet创建Servlet
 */
@WebServlet("/ExtendsHttpServlet")
public class ExtendsHttpServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        resp.setContentType("text/html; charset=utf-8");
        resp.getWriter().append("<font color='green' size=7>晚餐可以吃午餐肉吗？</font>");
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>【注意】一定要重写 doGet 和 doPost 方法</p>
</blockquote>
<h4 id="使用继承-HttpServlet-类的优点"><a href="#使用继承-HttpServlet-类的优点" class="headerlink" title="使用继承 HttpServlet 类的优点"></a>使用继承 HttpServlet 类的优点</h4><blockquote>
<p>HttpServlet 在实现 Servlet 接口的时候，已经实现了 servlet 中所有方法，因此继承自 HttpSrvlet 的类，不需要再去重写相应的生命周期等方法，并且支持 HTTP 协议</p>
</blockquote>
<h3 id="Servlet-生命周期"><a href="#Servlet-生命周期" class="headerlink" title="Servlet 生命周期"></a>Servlet 生命周期</h3><blockquote>
<ul>
<li>Servlet 构造方法被执行</li>
<li>然后使用 init 方法进行初始化。</li>
<li>浏览器端对 service 方法的任何调用都将被处理</li>
<li>Servlet 退出，使用 destroy 方法进行销毁，然后垃圾收集并完成。</li>
</ul>
</blockquote>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * Servlet生命周期
 */
@WebServlet("/ServletLife")
public class ServletLife implements Servlet {

    /**
     * 构造方法
     */
    public ServletLife() {
        System.out.println("ServletLife Constructor called");
    }

    /**
     * 初始化方法
     *
     * @param config 需要使用ServletConfig类对象，也就是Servlet配置来完成初始化操作
     * @throws ServletException Servlet异常
     */
    @Override
    public void init(ServletConfig config) throws ServletException {
        System.out.println("init method called");
    }

    /**
     * 获取ServletConfig对象
     *
     * @return 获取ServletConfig对象
     */
    @Override
    public ServletConfig getServletConfig() {
        return null;
    }

    /**
     * 提供服务核心方法
     *
     * @param req ServletRequest对象
     * @param res ServletResponse对象
     * @throws ServletException Servlet异常
     * @throws IOException      IO异常
     */
    @Override
    public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
        System.out.println("service method called");
    }

    /**
     * 获取Servlet信息
     * @return Servlet字符串信息
     */
    @Override
    public String getServletInfo() {
        return null;
    }

    /**
     * 销毁Servlet
     */
    @Override
    public void destroy() {
        System.out.println("destroy method called");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="两种配置方式【重点】"><a href="#两种配置方式【重点】" class="headerlink" title="两种配置方式【重点】"></a>两种配置方式【重点】</h3><h4 id="通过-WebServlet-注解"><a href="#通过-WebServlet-注解" class="headerlink" title="通过 @WebServlet 注解"></a>通过 @WebServlet 注解</h4><p>@WebServlet注解用于标注在一个继承了HttpServlet类之上，属于类级别的注解</p>
<blockquote>
<p>【注意】Servlet3.0之后允许使用注解方式配置！！！</p>
</blockquote>
<p><strong>常用格式</strong></p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">@WebServlet("/TestServlet")
public class useAnnotation extends HttpServlet {
    doGet();
    doPost();
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>常用属性描述</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>asyncSupported</td>
<td>boolean</td>
<td>否</td>
<td>指定Servlet是否支持异步操作</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>否</td>
<td>指定Servlet显示名称</td>
</tr>
<tr>
<td>initParams</td>
<td>WebInitParam[]</td>
<td>否</td>
<td>配置初始化参数</td>
</tr>
<tr>
<td>loadOnStartup</td>
<td>int</td>
<td>否</td>
<td>标记容器是否在应用启动时就加载这个Servlet，默认 -1，选择加载 1</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>否</td>
<td>指定Servlet名称</td>
</tr>
<tr>
<td>urlPatterns</td>
<td>String[]</td>
<td>是/否</td>
<td>允许当前Servlet有多个匹配方式，和value互斥</td>
</tr>
<tr>
<td>value【重点】</td>
<td>String[]</td>
<td>否/是</td>
<td>url资源匹配方式，和urlPatterns互斥</td>
</tr>
</tbody>
</table>
</div>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 通过注解配置Servlet
 */
@WebServlet(urlPatterns = {"/urlPatterns", "/aa"}, // 多个匹配路径，与value属性互斥，只能存在一个
        name = "AnnotationServlet", // 自定义Servlet名，没啥用
        displayName = "AnnotationServlet", // 显示名，没啥用
        loadOnStartup = 1,  // 加载时自动启动
        initParams = {@WebInitParam(name = "username", value = "易烊千玺"), @WebInitParam(name = "password", value = "欧阳娜娜")}) // 初始化参数
public class UseOnAnnotation extends HttpServlet {
    public UseOnAnnotation() {
        System.out.println("constructor be called");
    }

    @Override
    public void init() throws ServletException {
        System.out.println("init method be called");
        super.init();
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        resp.setContentType("text/html; charset=utf-8");

        resp.getWriter().append("test annotation");

        // 获取初始化参数
        String username = getServletConfig().getInitParameter("username");
        String password = getServletConfig().getInitParameter("password");

        resp.getWriter().append(username).append(":").append(password);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

        doPost(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="通过-web-xml-文件"><a href="#通过-web-xml-文件" class="headerlink" title="通过 web.xml 文件"></a>通过 web.xml 文件</h4><p>核心内容</p>
<pre class="line-numbers language-lang-shell"><code class="language-lang-shell"><!--Servlet核心配置，必须告知Servlet程序对应的名字和Servlet程序对应的class（Java类）-->
<servlet>
    <!-- ServletName -->
    <servlet-name>UseWebXML</servlet-name>
    <!-- Servlet对应的class，必须是完整的包名.类名 -->
    <servlet-class>com.fc.d_configServlet.UseWebXML</servlet-class>
</servlet>

<!-- Servlet映射关系 -->
<servlet-mapping>
    <!--声明映射到哪一个Servlet，必须与Servlet-name中相同-->
    <servlet-name>UseWebXML</servlet-name>
    <!--URL-->
    <url-pattern>/UseWebXML</url-pattern>
</servlet-mapping>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>XML 配置文件</strong></p>
<pre class="line-numbers language-lang-xml"><code class="language-lang-xml"><?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">

    <!--Servlet核心配置，必须告知Servlet程序对应的名字和Servlet程序对应的class（Java类）-->
    <servlet>
        <!-- ServletName -->
        <servlet-name>UseWebXML</servlet-name>
        <!-- Servlet对应的class，必须是完整的包名.类名 -->
        <servlet-class>com.fc.d_configServlet.UseWebXML</servlet-class>

        <!-- 当前Servlet程序初始化操作，需要放在servlet-class之后 -->
        <init-param>
            <param-name>彭于晏</param-name>
            <param-value>真帅</param-value>
        </init-param>
        <init-param>
            <param-name>欧阳娜娜</param-name>
            <param-value>真美</param-value>
        </init-param>

        <!-- Tomcat启动时当前Servlet -->
        <load-on-startup>1</load-on-startup>

    </servlet>

    <!-- Servlet映射关系 -->
    <servlet-mapping>
        <!--声明映射到哪一个Servlet，必须与Servlet-name中相同-->
        <servlet-name>UseWebXML</servlet-name>
        <!--URL-->
        <url-pattern>/UseWebXML</url-pattern>
    </servlet-mapping>

    <!-- Servlet映射关系2 -->
    <servlet-mapping>
        <!--声明映射到哪一个Servlet，必须与Servlet-name中相同-->
        <servlet-name>UseWebXML</servlet-name>
        <!--第二个URL-->
        <url-pattern>/UseWebXML2</url-pattern>
    </servlet-mapping>
</web-app>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>案例代码</strong></p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 使用Web.xml方式
 */
public class UseWebXML extends HttpServlet {
    public UseWebXML() {
        System.out.println("constructor be called");
    }

    @Override
    public void init() throws ServletException {
        System.out.println("init method be called");
        super.init();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        resp.setContentType("text/html; charset=utf-8");
        resp.getWriter().append("猫(>^ω^<)喵");

        String parameter1 = getServletConfig().getInitParameter("彭于晏");
        String parameter2 = getServletConfig().getInitParameter("欧阳娜娜");

        System.out.println(parameter1 + ":" + parameter2);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<pre><code>   两种方式比较

       @WebServlet注解
           配置简单，直观，高效
           url-pattern 冲突问题，并且是在Tomcat启动时发现，需要注意细节

       web.xml配置文件
           繁琐，麻烦，步骤繁多
           url-pattern 一旦写错或者冲突，web.xml文件会提示错误！！！
</code></pre></blockquote>
<h3 id="获取请求参数【重点】"><a href="#获取请求参数【重点】" class="headerlink" title="获取请求参数【重点】"></a>获取请求参数【重点】</h3><p>前端页面</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>测试从前端获取请求参数</title>
</head>
<body>
    <form action="GetParameter" method="post">
        <span>账号: </span><input type="text" name="username"><br><br>
        <span>密码: </span><input type="password" name="password"><br><br>
        <input type="submit" value="提交">
    </form>

    <hr>

    <form action="GetParameter" method="get">
        <span>账号: </span><input type="text" name="username"><br><br>
        <span>密码: </span><input type="password" name="password"><br><br>
        <input type="submit" value="提交">
    </form>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 获取前端请求的参数
 */
@WebServlet("/GetParameter")
public class GetParameter extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 此方法用于获取从前端传递过来的参数，要求形参名必须和前端中的name一致
        String username = req.getParameter("username");
        String password = req.getParameter("password");

        System.out.println(username + ":" + password);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>【注意】</p>
<blockquote>
<p>1、在后台通过 HttpServletRequest 获取数据使用 getParameter 方法，返回值是 String 类型</p>
<p>2、要求前端提交数据的 name 属性和后台获取 getParameter 参数名一致</p>
</blockquote>
<h3 id="连接数据库【重点】"><a href="#连接数据库【重点】" class="headerlink" title="连接数据库【重点】"></a>连接数据库【重点】</h3><p>sql</p>
<pre class="line-numbers language-lang-mysql"><code class="language-lang-mysql">create table user(id int primary key auto_increment, 
             username varchar(20) unique not null, 
            password varchar(16) not null);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>html</p>
<pre class="line-numbers language-lang-shell"><code class="language-lang-shell"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>登录</title>
</head>
<body>
<form action="Register" method="post">
    <table>
        <tr>
            <td>账号</td>
            <td><input type="text" name="username"></td>
        </tr>
        <tr>
            <td>密码</td>
            <td><input type="password" name="password"></td>
        </tr>
        <tr>
            <td><input type="reset" value="重置"></td>
            <td><input type="submit" value="提交"></td>
        </tr>
    </table>
</form>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码</p>
<pre class="line-numbers language-lang-shell"><code class="language-lang-shell">/**
 * 测试Servlet连接数据库
 */
@WebServlet("/Register")
public class RegisterServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 设置请求和响应的编码集
        req.setCharacterEncoding("UTF8");
        resp.setContentType("text/html; charset=UTF-8");

        // 获取请求的参数
        String username = req.getParameter("username");
        String password = req.getParameter("password");

        // 通过C3P0获取连接
        Connection connection = JdbcUtilsOnC3P0.getConnection();

        // 获取DbUtils中的核心QueryRunner类对象
        QueryRunner queryRunner = new QueryRunner();

        // 准备SQL语句
        String sql = "insert into user(username, password) values(?, ?)";

        // 准备参数
        Object[] params = {username, password};

        // 提取受影响的行数
        int affectedRows = 0;

        try {
            // 执行增删改方法，获取受影响的行数
            affectedRows = queryRunner.update(connection, sql, params);
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            // 关闭资源
            JdbcUtilsOnC3P0.close(connection);
        }

        // 判断是否添加成功，把结果返回给前端
        if (affectedRows != 0) {
            resp.getWriter().append("<font color='red' size='48px'>添加成功</font>");
        } else {
            resp.getWriter().append("<font color='green' size='48px'>添加失败</font>");
        }
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>【注意】这里使用了C3P3连接池，需要导入相关的 jar 包以及配置文件，如果使用 Druid 连接池需要修改 Druid.properties 文件的位置并修改代码， 不推荐！</p>
</blockquote>
<h3 id="重定向【重点】"><a href="#重定向【重点】" class="headerlink" title="重定向【重点】"></a>重定向【重点】</h3><blockquote>
<p>浏览器发送HTTP请求 =&gt; 服务器<br>服务器接收到请求之后 发送302状态码 新的location =&gt; 浏览器<br>浏览器收到302状态码 + location 按照新的location发送新的请求 =&gt; 服务器</p>
</blockquote>
<p>特点</p>
<blockquote>
<ul>
<li>该操作是浏览器行为</li>
<li>重定向最少存在两次的浏览器请求</li>
<li>重定向情况下，浏览器的地址栏中的URL会发生改变</li>
<li>重定向操作存在两个或者两个以上的请求，每一次新的请求，都会丢失之前的请求数据，也就是request对象【requeset作用域范围】</li>
<li>重定向可以访问任何资源，不管是当前WEB服务器资源，还是网络端的资源都是可以访问</li>
</ul>
</blockquote>
<p>起始页</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><html lang="en">
<head>
    <meta charset="UTF-8">
    <title>重定向起始页</title>
</head>
<body>
<form action="TestRedirectServlet" method="post">
    <table>
        <tr>
            <td>账号</td>
            <td><input type="text" name="username"></td>
        </tr>
        <tr>
            <td>密码</td>
            <td><input type="password" name="password"></td>
        </tr>
        <tr>
            <td><input type="submit" value="提交"></td>
        </tr>
    </table>
</form>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>跳转页</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>重定向跳转过来的页面</title>
</head>
<body>
<table>
    <tr>
        <td><img src="真香.jpg"></td>
    </tr>
</table>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试重定向
 */
@WebServlet("/TestRedirectServlet")
public class TestReDirectServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        request.setCharacterEncoding("utf-8");
        String username = request.getParameter("username");
        String password = request.getParameter("password");

        System.out.println(username + ":" + password);

        if ("Andy".equals(username) && "123456".equals(password)) {
            // 调用重定向方法
            response.sendRedirect("Demo2.html");
        } else {
            response.getWriter().append("账号密码错误！！！");
        }
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doPost(request, response);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="转发【重点】"><a href="#转发【重点】" class="headerlink" title="转发【重点】"></a>转发【重点】</h3><blockquote>
<p>浏览器发送HTTP请求 =&gt; 服务器<br>服务器接收到请求之后内部资源处理跳转 =&gt; 服务器其他资源<br>服务器其他资源处理完毕之后，才通过原始的请求和响应返回数据 =&gt; 客户端</p>
<p>特征：</p>
<ul>
<li>​    转发是服务器行为</li>
<li>​    转发情况下浏览器有且只发送了一次请求</li>
<li>​    转发情况下浏览器的地址栏没有发生任何改变</li>
<li>​    转发情况下，浏览器的请求数据是被保存的，是通过 request 进行传递的</li>
<li>​    转发情况下有且只能转发 WEB Application 整个项目的内容资源</li>
</ul>
</blockquote>
<p>起始页</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试转发起始页
 */
@WebServlet("/TestForwardServletFrom")
public class TestForwardServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        // 设置自定义请求参数，保存到 request 中
        request.setAttribute("Forward", "转发成功");

        // 获取请求调度并器将 request 和 response 转发给 TestForWardServleTo
        request.getRequestDispatcher("TestForwardServletTo").forward(request, response);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>目的页</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试转发目的页
 */
@WebServlet("/TestForwardServletTo")
public class TestForwardServlet2 extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        // 获取请求参数
        Object context = request.getAttribute("Forward");

        System.out.println(context);

        response.setContentType("text/html; charset=utf-8");

        response.getWriter().append("我是目的页，这是从起始页传来的数据：" + context);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="URL-匹配原则"><a href="#URL-匹配原则" class="headerlink" title="URL 匹配原则"></a>URL 匹配原则</h3><pre><code>url-pattern匹配原则：
    1、精确匹配
        /具体名字

    2、后缀名匹配
        *.do *.action 
        *.xxx  
        主要是按照规定结尾的url-pattern都可以触发对应的Servlet程序

    3、通配符匹配
        /* 匹配所有请求，服务器端所有资源都可以匹配
</code></pre><h4 id="精准匹配"><a href="#精准匹配" class="headerlink" title="精准匹配"></a>精准匹配</h4><p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 精准查询
 */
@WebServlet("/PreciseServlet")
public class PreciseServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        response.setContentType("text/html; charset=utf-8");
        response.getWriter().append("测试URL的精准查询：通过完整的协议+域名+端口+资源+参数");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="后缀名匹配"><a href="#后缀名匹配" class="headerlink" title="后缀名匹配"></a>后缀名匹配</h4><p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 后缀名匹配
 */
@WebServlet("*.do")
public class SuffixServlet  extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        response.setContentType("text/html; charset=utf-8");
        response.getWriter().append("测试URL的后缀名匹配，通过指定的后缀名即可");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="通配符匹配"><a href="#通配符匹配" class="headerlink" title="通配符匹配"></a>通配符匹配</h4><pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 通配符匹配
 */
@WebServlet("/*")
public class WildcardServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        response.setContentType("text/html; charset=utf-8");
        response.getWriter().append("通过通配符*的方式，所有路径都可以访问到");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><p>ServletContext 指的是 Servlet 上下文。服务器会为每一个项目创建一个对象，这个对象就是 ServletContext 对象。这个对象全局唯一，而且项目内部的所有 Servlet 都共享这个对象，都能够使用其内部存储的数据。所以也叫全局应用程序共享对象</p>
<blockquote>
<p>ServletContext 接口定义了 Servlet 用于与其他 Servlet 容器通信的一组方法，例如，用于获取文件的MIME类型、分派请求或写入日志文件</p>
</blockquote>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><blockquote>
<p>1、是一个域对象（域对象是服务器在内存上创建的存储空间，用于在不同动态资源（Servlet）之间传递与共享数据）</p>
<p>2、可以读取全局配置参数</p>
<p>3、可以搜索当前项目目录下面的资源文件</p>
</blockquote>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><pre class="line-numbers language-lang-java"><code class="language-lang-java">// 获取 ServletContext 对象【重点】
ServletContext getServletContext();

// 通过ServletConfig对象获取对应的ServletContext对象
getServletConfig().getServletContext();

// 通过Request请求对象获取对应都是ServletContext对象
req.getServletContext();

// 通过HttpSession对象获取ServletContext对象
req.getSession().getServletContext();

// 作为数据传递的容器，设置属性及其属性值
void setAttribute(String var1, Object var2);

// 获取具有给定名称的 servlet 容器属性，如果没有该名称的属性，则返回 null
public Object getAttribute(String name);

// 获取一个枚举，其中包含此 servlet 上下文中可用的属性名称。使用带有属性名称的 getAttribute 方法来获取属性的值。
public Enumeration getAttributeNames();

// 删除指定的属性以及对应的属性值
void removeAttribute(String var1);

// 获取包含给定虚拟路径的真实路径的字符串    
public String getRealPath(String path);

//     获取Tomcat服务器板版本信息
public String getServerInfo();
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码一</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试 ServletContext
 */
@WebServlet("/TestServletContext")
public class TestServletContext1 extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        // 获取上下文对象
        ServletContext servletContext = request.getServletContext();

        // 获取当前的项目的实际目录
        String realPath = servletContext.getRealPath("/");
        System.out.println("realPath：" + realPath);

        // 获取运行 servlet 的 servlet 容器的名称和版本
        String serverInfo = servletContext.getServerInfo();
        System.out.println("serverInfo：" + serverInfo);

        // 获取当前项目的根目录和jsp页面中用于和html页面联系的路由
        String contextPath = servletContext.getContextPath();
        System.out.println("contextPath：" + contextPath);

        // 设置请求参数
        servletContext.setAttribute("ServletContext", "上下文对象");
        servletContext.setAttribute("Person", new Person("易烊千玺", 20));
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码二</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试 ServletContext2
 */
@WebServlet("/TestServletContext2")
public class TestServletContext2 extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        doGet(request, response);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,
            IOException {
        // 获取上下文对象
        ServletContext servletContext = request.getServletContext();

        // 返回具有给定名称的servlet容器属性，如果没有该名称的属性，则返回null
        Object context = servletContext.getAttribute("ServletContext");
        Person person = (Person) servletContext.getAttribute("Person");

        System.out.println("ServletContext对应的值：" + context);
        System.out.println("Person对应的值：" + person);

        // 删除对应的属性和属性值
        servletContext.removeAttribute("Person");
        Person person1 = (Person) servletContext.getAttribute("Person");
        System.out.println("删除后的Person对象：" + person1);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="HttpServletRequest"><a href="#HttpServletRequest" class="headerlink" title="HttpServletRequest"></a>HttpServletRequest</h3><p>通过定义一个 ServletRequest 对象来向 Servlet 提供客户端请求信息</p>
<blockquote>
<ul>
<li>Servlet 容器创建一个 ServletRequest 对象，并将其作为参数传递给 Servlet 的 service 方法</li>
<li>ServletRequest 对象提供数据，包括参数名和值、属性和输入流。扩展ServletRequest 的接口可以提供附加协议特定的数据(例如，HttpServletRequest 提供HTTP数据)</li>
</ul>
</blockquote>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">// 获取请求参数的类型，get或者post等
String getMethod();

// 【重点】获取不包含参数的URL，返回值类型是StringBuffer，便于对其进行操作
StringBuffer getRequestURL();

// 获取请求URL中的路径部分
String getRequestURI();

// 获取完整的请求参数对应的字符串
String getQueryString();

// 【重点】获取请求参数对应的map集合
Map getParameterMap();

// 获取访问用户的主机
String getRemoteHost();

// 如果访问用户通过了认证，则返回用户名，否则返回null
String getRemoteUser();

// 获取访问用户的最后一个代理IP地址
String getRemoteAddr();

// 获取访问用户的访问源端口号
int getRemotePort();

// 获取请求参数的参数名的枚举类型表示
Enumeration<String> getParameterNames();

// 通过参数名获取字符串数组类型的参数值
String[] getParameterValues(String var1);

// 获取对应请求头的值
String getHeader(String var1);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试请求对象
 */
@WebServlet("/request")
public class TestRequestServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 获取请求参数的类型
        String method = req.getMethod();
        System.out.println(method);

        // 获取请求URL
        StringBuffer requestURL = req.getRequestURL();
        System.out.println(requestURL);

        // 获取请求URL中的路径部分
        String requestURI = req.getRequestURI();
        System.out.println(requestURI);

        // 获取请求路径中的资源名
        System.out.println(requestURI.substring(requestURI.lastIndexOf('/')));

        // 获取完整的请求参数对应的字符串
        String queryString = req.getQueryString();
        System.out.println(queryString);

        // 获取请求参数对应的map集合
        Map<String, String[]> map = req.getParameterMap();

        // 遍历map中的数据
        Set<Map.Entry<String, String[]>> entries = map.entrySet();
        for (Map.Entry<String, String[]> entry: entries) {
            System.out.println(entry.getKey() + ":" + Arrays.toString(entry.getValue()));
        }

        // 获取访问用户的主机
        String remoteHost = req.getRemoteHost();
        System.out.println(remoteHost);

        // 如果访问用户通过了认证，则返回用户名，否则返回null
        String remoteUser = req.getRemoteUser();
        System.out.println(remoteUser);

        // 获取访问用户的最后一个代理IP地址
        String remoteAddr = req.getRemoteAddr();
        System.out.println(remoteAddr);

        // 获取访问用户的访问源端口号
        int remotePort = req.getRemotePort();
        System.out.println(remotePort);

        // 获取请求参数的枚举类型表示
        Enumeration<String> names = req.getParameterNames();

        // 枚举类型的遍历
        while (names.hasMoreElements()) {
            // 获取每一个参数名
            String name = names.nextElement();
            System.out.println(name);

            // 获取参数名对应的值
            String value = req.getParameter(name);
            System.out.println(value);

            // 获取字符串数组形式的参数名对应的值
            String[] values = req.getParameterValues(name);

            // 参数值遍历
            for (String paramValue: values) {
                System.out.println(paramValue);
            }
        }

        // 获取对应请求头的值
        String header = req.getHeader("Accept-Language");
        System.out.println(header);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h3><p>用户发送请求到服务器，服务器会对应当前用户的请求针对性地提供响应，对应的就是HttpServletResponse 对象</p>
<blockquote>
<p>服务器可以通过 response 对象发送响应告知浏览器，浏览器可以根据服务器响应数据进行解析操作。</p>
</blockquote>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">// 设置响应内容编码集
void setCharacterEncoding(String charset);

// 获取字符输出流对象
PrintWriter getWriter();

// 设置具有给定名称和值的响应头。如果响应头已经设置，则新值将覆盖前一个值。
void setHeader(String var1, String var2);

// 设置响应状态码
void setStatus(int var1);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 测试响应对象中的方法
 */
@WebServlet("/response")
public class TestResponseServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 设置响应内容编码集为UTF-8
        resp.setContentType("text/html; charset=UTF-8");

        // 设置具有给定名称和值的响应头。如果响应头已经设置，则新值将覆盖前一个值。
        resp.setHeader("stuId", "123456");

        // 设置响应状态码
        resp.setStatus(404);

        resp.getWriter().append("<h1>国家有力量，人民有希望</h1>");
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="通过-BeanUtils-操作实体类"><a href="#通过-BeanUtils-操作实体类" class="headerlink" title="通过 BeanUtils 操作实体类"></a>通过 BeanUtils 操作实体类</h3><blockquote>
<p>BeanUtils 是一种方便我们对 JavaBean 进行操作的工具类，是Apache组织下的产品。</p>
<p>使用前需要导入两个 jar 包：</p>
<pre><code>commons-beanutils-1.8.3.jar
commons-logging-1.1.3.jar
</code></pre><p>常用方法</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">// 设置Bean对象中名称为name的属性值赋值为value.    
public void setProperty(Object bean, String name, Object value)

// 取得bean对象中名为name的属性的值
public String getProperty(Object bean, String name)

// 把orig对象copy到dest对象中.
public void copyProperties (Object dest, Object orig)

// 把Bean的属性值放入到一个Map里面
public Map describe(Object bean)

// 把map里面的值放入bean中
public void populate (Object bean, Map map)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<p>实体类</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 实体类
 */
public class Student {
    private int id;
    private String name;
    private int age;
    private String gender;
    private String info;

    Constructor setter getter toString()
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码一</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">@WebServlet("/addStudent")
public class AddStudentServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 设置请求编码集
        req.setCharacterEncoding("UTF8");

        // 获取存储请求参数的map
        Map<String, String[]> map = req.getParameterMap();

        Student student = new Student();

        try {
            // 将map中的数据存储到学生对象中
            BeanUtils.populate(student, map);
        } catch (IllegalAccessException | InvocationTargetException e) {
            e.printStackTrace();
        }

        System.out.println(student);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>案例代码二</p>
<blockquote>
<p>需要使用的jar包：</p>
<pre class="line-numbers language-lang-jar"><code class="language-lang-jar"># BeanUtils相关
commons-beanutils-1.8.3.jar
commons-logging-1.1.3.jar

# 连接数据库 
mysql-connector-java-5.1.47.jar

# DbUtils
commons-dbutils-1.7.jar

# C3P0数据库连接池（或者Druid连接池）
c3p0-0.9.2.jar
mchange-commons-java-0.2.19.jar
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>【注意】直接复制粘贴到 WEB-INF 目录下的 lib 目录中</p>
<p>需要使用的配置文件</p>
<pre><code>c3p0-config.xml
</code></pre><p>【注意】此配置文件放在 src 目录下，并修改数据库名以及密码</p>
</blockquote>
<p>前端添加页面</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>增加</title>
</head>
<body>
<form method="post" action="addStudent">
    <table border="1px" align="center">
        <caption><h3>添加学生</h3></caption>
        <tr>
            <td>姓名</td>
            <td><input type="text" name="name"></td>
        </tr>
        <tr>
            <td>年龄</td>
            <td><input type="text" name="age"></td>
        </tr>
        <tr>
            <td>性别</td>
            <td>
                <input type="radio" name="gender" value="男">
                <input type="radio" name="gender" value="女">
            </td>
        </tr>
        <tr>
            <td>信息</td>
            <td><input type="text" name="info"></td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="reset" value="重置">
                <input type="submit" value="提交">
            </td>

        </tr>
    </table>
</form>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>添加成功页面</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>添加成功页</title>
</head>
<body>
    <h1 align="center" style="color: chartreuse">添加成功</h1>
    <h1 align="center" style="color: crimson">
        <a href="queryStudent">查询全部</a>
    </h1>
</body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>添加失败页面</p>
<pre class="line-numbers language-lang-html"><code class="language-lang-html"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>添加失败页</title>
</head>
<body>
    <h1 align="center" style="color: crimson">添加失败</h1>
    <h1 align="center" style="color: chartreuse">
        <a href="addStudent">重新添加</a>
    </h1>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"right","width":150,"height":300,"hOffset":34,"vOffset":-76},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.8},"name":{"canvas":"live2dcanvas","div":"live2d-widget"},"dev":{"border":false},"dialog":{"enable":true,"hitokoto":true}});</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"right","width":150,"height":300,"hOffset":34,"vOffset":-76},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.8},"name":{"canvas":"live2dcanvas","div":"live2d-widget"},"dev":{"border":false},"dialog":{"enable":true,"hitokoto":true}});</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"right","width":150,"height":300,"hOffset":34,"vOffset":-76},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.8},"name":{"canvas":"live2dcanvas","div":"live2d-widget"},"dev":{"border":false},"dialog":{"enable":true,"hitokoto":true}});</script></body>
</html>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>添加操作</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 添加学生到数据库中
 */
@WebServlet("/addStudent")
public class AddStudentServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 设置请求编码集
        req.setCharacterEncoding("UTF8");

        // 获取存储请求参数的map
        Map<String, String[]> map = req.getParameterMap();

        // 声明实体类对象
        Student student = new Student();

        try {
            // 将map中的数据存储到学生对象中
            BeanUtils.populate(student, map);
        } catch (IllegalAccessException | InvocationTargetException e) {
            e.printStackTrace();
        }

        System.out.println(student);

        // 获取DbUtils核心类对象
        QueryRunner queryRunner = new QueryRunner();

        // 获取通过c3p0获取数据库连接
        Connection connection = JdbcUtilsOnC3P0.getConnection();

        // 准备SQL语句
        String sql = "insert into student(name, age, gender, info) values(?, ?, ?, ?)";

        // 准备参数
        Object[] params = {student.getName(), student.getAge(), student.getGender(), student.getInfo()};

        // 提取受影响的行数
        int affectedRows = 0;

        try {
            // 执行SQL语句并获取受影响的行数
            affectedRows = queryRunner.update(connection, sql, params);
        } catch (SQLException e) {
            e.printStackTrace();
        }

        // 判断受影响的行数是否大于0
        if (affectedRows > 0) {
            // 重定向至添加成功页
            resp.sendRedirect("success.html");
        } else {
            // 重定向至添加失败页
            resp.sendRedirect("fail.html");
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>查询操作</p>
<pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * 查询所有学生
 */
@WebServlet("/queryStudent")
public class QueryStudentServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // 获取DbUtils核心类对象
        QueryRunner queryRunner = new QueryRunner();

        // 获取通过c3p0获取数据库连接
        Connection connection = JdbcUtilsOnC3P0.getConnection();

        // 准备SQL语句
        String sql = "select * from student";

        List<Student> list = null;

        try {
            // 执行SQL语句并获取包含学生对象的List集合
            list = queryRunner.query(connection, sql, new BeanListHandler<Student>(Student.class));
        } catch (SQLException e) {
            e.printStackTrace();
        }

        // 设置响应内容字符集
        resp.setContentType("text/html; charset=UTF-8");

        // 准备HTML前端页面
        String html = "<table width='600' border='1px' align='center'>" +
                "<caption><h3>所有学生</h3></caption>" +
                "<tr>" +
                "<th>id</th><th>姓名</th><th>年龄</th><th>性别</th><th>信息</th><th>操作</th>" +
                "</tr>";

        // 判断如果List集合不为空，向HTML中填充数据
        if (list != null) {
            for (Student student : list) {
                html += "<tr>";
                html += "<td>" + student.getId() + "</td>";
                html += "<td>" + student.getName() + "</td>";
                html += "<td>" + student.getAge() + "</td>";
                html += "<td>" + student.getGender() + "</td>";
                html += "<td>" + student.getInfo() + "</td>";
                html += "<td>";
                html += "<a href='updateStudent?id=" + student.getId() + "'>修改</a>&nbsp;";
                //<a href='updateStudent?id=1'></a>
                html += "<a href='deleteStudent?id=" + student.getId() + "'>删除</a>";
                html += "</td>";
                html += "</tr>";
            }
        }
        html += "<tr align='center'><td colspan='7'><a href='add.html'>添加学生</a></td></tr>";
        html += "</table>";

        resp.getWriter().append(html);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">秦同学</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://ialoe.top/posts/6685.html">https://ialoe.top/posts/6685.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">秦同学</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/JSP/">
                                    <span class="chip bg-color">JSP</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/valine/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'rpmGPYyUwalUmreTVvmhmkpr-gzGzoHsz',
        appKey: '4RG94YGC3lOguTlGqSwrqbzD',
        notify: 'true' === 'true',
        verify: 'true' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'ヾﾉ≧∀≦)o 来呀！快活呀！'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/50158.html">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="如何解决Idea运行中文乱码">
                        
                        <span class="card-title">如何解决Idea运行中文乱码</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            idea运行中文乱码
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-12-13
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/idea/" class="post-category">
                                    idea
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/idea/">
                        <span class="chip bg-color">idea</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/46164.html">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="Node.js 安装教程">
                        
                        <span class="card-title">Node.js 安装教程</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            git+Node.js传博客文章必备软件
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-12-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/node-js/" class="post-category">
                                    node.js
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/hexo/">
                        <span class="chip bg-color">hexo</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/codeBlock/codeShrink.js"></script>



<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="5283950246"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="/about" target="_blank">白月光</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
				<!-- //<span id="busuanzi_container_site_uv"> //<span id="busuanzi_container_site_uv">-->
            
            <span>
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
             <span>
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "10";
                    var startDate = "1";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="http://beian.miit.gov.cn" target="_blank">豫ICP备2020025858号-1</a>
            </span>
            
        </div>
        <!-- <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2494543852@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2494543852" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2494543852" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div> -->
		    <img style="height: 67px;cursor: pointer;" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/medias/logo2.png" alt="又拍云" onclick="location.href='https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral'">
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/js/matery.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/isome/isome.github.io/js/fireworks.js"></script>
	
    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    <script type="text/javascript" color="0,150,205"
        pointColor="2,191,25" opacity='0.8'
        zIndex="-1" count="250"
        src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="https://cdn.jsdelivr.net/gh/wind-qin/wind-qin.github.io/libs/instantpage/instantpage.js" type="module"></script>
    
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"right","width":150,"height":300,"hOffset":34,"vOffset":-76},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.8},"name":{"canvas":"live2dcanvas","div":"live2d-widget"},"dev":{"border":false},"dialog":{"enable":true,"hitokoto":true}});</script></body>
	<script src="/js/snow1.js"></script>
	
	<script type="text/javascript">
	var windowWidth = $(window).width(); 
	if (windowWidth > 768) { 
		document.write('<script type="text/javascript" src="/js/sakura.js">
		<\/script>'); } </script>
	<script type="text/javascript">
		var OriginTitile=document.title,st; 
		document.addEventListener("visibilitychange",function(){ 
			document.hidden?(document.title="咦，你去哪了！",clearTimeout(st)):(document.title="我回来喽！",st=setTimeout(function(){document.title=OriginTitile},3e3)) 
			})</script>
	
</html>
